import CalcFunction from"./extends/Func.js";class Calculator extends CalcFunction{constructor(t,r,l){super(CalcFunction),this.calc=t,this.calc_res=r,this.rad_div=l,this.values=""}vibrate(t){navigator.vibrate&&window.navigator.vibrate(t)}add_value(t){this.values=t,this.calc.value+=this.values,this.simpleEval()}del(){let t=this.calc.value,r=t.slice(0,t.length-1);this.calc.value=r,""===t&&"0"!==this.calc.placeholder?(this.calc.placeholder=0,this.vibrate(200)):this.calc.placeholder=""}Eval(){var inputWrite=this.calc,inputRes=this.calc_res;try{let newRes=inputWrite.value.toString();for(;"0"===newRes[0];)newRes=newRes.substr(1,newRes.length);let res=newRes;inputWrite.value.match("×")&&(res=res.replaceAll("×","*")),inputWrite.value.match("÷")&&(res=res.replaceAll("÷","/")),inputWrite.value.match("^")&&(res=res.replaceAll("^","**")),inputWrite.value.match("²")&&(res=res.replaceAll("²","**2")),inputWrite.value.match("³√")&&(res=res.replaceAll("³√","cbrt")),inputWrite.value.match("√")&&(res=res.replaceAll("√","sqrt")),inputWrite.value.match("%%")&&(res=res.replaceAll("%%","$$$")),inputWrite.value.match("%")&&(res=res.replaceAll("%","/100")),inputWrite.value.match("$$")&&(res=res.replaceAll("$$","%")),inputRes.value=null==eval(res)?"0":eval(res)}catch(t){console.error(t);let r="";r="Invalid or unexpected token"==t.message?"Syntax Error":(t.message="Invalid left-hand side expression in postfix operation")?"Math Error":"Unexpected Error",inputRes.value=r}}simpleEval(){var inputWrite=this.calc,inputRes=this.calc_res;const e=this.e,π=this.π,sin=t=>this.sin(t),cos=t=>this.cos(t),tan=t=>this.tan(t),asin=t=>this.asin(t),acos=t=>this.acos(t),atan=t=>this.atan(t),log=t=>this.log(t),sqrt=t=>this.sqrt(t),cbrt=t=>this.cbrt(t),exp=t=>this.exp(t),ln=t=>this.ln(t);try{let newRes=inputWrite.value.toString();for(;"0"===newRes[0];)newRes=newRes.substr(1,newRes.length);let res=newRes;return res=inputWrite.value.match("×")?res.replaceAll("×","*"):res,res=inputWrite.value.match("÷")?res.replaceAll("÷","/"):res,res=inputWrite.value.match("^")?res.replaceAll("^","**"):res,res=inputWrite.value.match("²")?res.replaceAll("²","**2"):res,res=inputWrite.value.match("³√")?res.replaceAll("³√","cbrt"):res,res=inputWrite.value.match("√")?res.replaceAll("√","sqrt"):res,res=inputWrite.value.match("%%")?res.replaceAll("%%","$$$"):res,res=inputWrite.value.match("%")?res.replaceAll("%","/100"):res,res=inputWrite.value.match("$$")?res.replaceAll("$$","%"):res,inputRes.value=null==eval(res)?"0":eval(res),!0}catch(e){}}}export default Calculator;